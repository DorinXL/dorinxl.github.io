<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Test on 荡影-DorinXL</title>
        <link>https://dorinxl.github.io/categories/test/</link>
        <description>Recent content in Test on 荡影-DorinXL</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>荡影-DorinXL</copyright>
        <lastBuildDate>Wed, 22 Jun 2022 02:31:00 +0000</lastBuildDate><atom:link href="https://dorinxl.github.io/categories/test/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>vlan配置</title>
        <link>https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/</link>
        <pubDate>Wed, 22 Jun 2022 02:31:00 +0000</pubDate>
        
        <guid>https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/</guid>
        <description>&lt;h1 id=&#34;vlan配置&#34;&gt;vlan配置
&lt;/h1&gt;&lt;p&gt;将一个物理局域网在逻辑上分成多个局域网。&lt;/p&gt;
&lt;p&gt;传统模式一个设备20个接口，通过给交换机做标识，或者基于协议、基于mac等来区别开局域网。&lt;/p&gt;
&lt;h3 id=&#34;创建vlan交换机&#34;&gt;创建vlan（交换机）
&lt;/h3&gt;&lt;p&gt;用到的命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Huawei]vlan bat 10 20	//批量创建10和20
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Huawei]int e0/0/1	//进入接口
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Huawei-Ethernet0/0/1]port link-type access 	//指定接口类型为access
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Huawei-Ethernet0/0/1]port default vlan 10	//将当前接口加入vlan10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Huawei-GigabitEthernet0/0/1]port link-type trunk 	//指定接口类型为trunk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Huawei-GigabitEthernet0/0/1]port trunk allow-pass vlan 10 20	//允许vlan 10 20通过trunk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[Huawei-Ethernet0/0/1]undo port default vlan	//将接口从vlan中删除
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;布局&#34;&gt;布局
&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102855429-1533219860.png&#34;
	width=&#34;512&#34;
	height=&#34;281&#34;
	srcset=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102855429-1533219860_hu15932123872604075801.png 480w, https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102855429-1533219860_hu3743902689891807671.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20220622100529964&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;182&#34;
		data-flex-basis=&#34;437px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856010-445080417.png&#34;
	width=&#34;510&#34;
	height=&#34;263&#34;
	srcset=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856010-445080417_hu1860933860648581964.png 480w, https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856010-445080417_hu17605928476796790705.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20220622100801825&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;193&#34;
		data-flex-basis=&#34;465px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856473-460006994.png&#34;
	width=&#34;630&#34;
	height=&#34;447&#34;
	srcset=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856473-460006994_hu1078589324868929334.png 480w, https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856473-460006994_hu7439687739488725188.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20220622100812761&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;140&#34;
		data-flex-basis=&#34;338px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;对第一个交换机的第一个接口进行配置：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856941-727216011.png&#34;
	width=&#34;854&#34;
	height=&#34;510&#34;
	srcset=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856941-727216011_hu5001011433145186555.png 480w, https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102856941-727216011_hu8921752279321335408.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20220622102228713&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;167&#34;
		data-flex-basis=&#34;401px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;同理对其他三个进行配置之后，开始配置两个交换机之间的trunk连线：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102857462-366945484.png&#34;
	width=&#34;736&#34;
	height=&#34;193&#34;
	srcset=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102857462-366945484_hu12232728593131038756.png 480w, https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102857462-366945484_hu5029244244123509444.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20220622102616117&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;381&#34;
		data-flex-basis=&#34;915px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;配置完成之后发现PC1只可以和PC3在同一网段通信，同理PC2与PC4通信。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102858045-976951868.png&#34;
	width=&#34;700&#34;
	height=&#34;567&#34;
	srcset=&#34;https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102858045-976951868_hu1557045890469954651.png 480w, https://dorinxl.github.io/p/vlan%E9%85%8D%E7%BD%AE/1858293-20220622102858045-976951868_hu4282250360588045028.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20220622102749922&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;123&#34;
		data-flex-basis=&#34;296px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;补充知识点&#34;&gt;补充知识点：
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;vlan的作用：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;​	隔离广播域，提升网络性能
​	隔离不同用户或者业务，便于管理&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;vlan的实现方式：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;​	按端口划分VLAN
​	按MAC地址划分VLAN&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;交换机的端口类型&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;​	交换机的端口，可以分为以下三种：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;访问链接(Access Link)
访问链接，指的是“只属于一个VLAN，且仅向该VLAN转发数据帧”的端口。在大多数情况下，访问链接所连的是客户机。&lt;/li&gt;
&lt;li&gt;汇聚链接(Trunk Link)
汇聚链接(Trunk Link)可同时属于多个VLAN，且能够转发多个不同VLAN的通信的端口，汇聚链路上流通的数据帧，都被附加了用于
识别分属于哪个VLAN的特殊信息。
通过汇聚链路时附加的VLAN识别信息，有支持标准的“IEEE 802.1Q”协议，及Cisco产品独有的“ISL(Inter Switch Link)”。&lt;/li&gt;
&lt;li&gt;混合链接(Hybrid Link)
Hybrid 类型的端口可以属于多个VLAN， 可以接收和发送多个VLAN的报文，可以用于交换机之间连接也可以用于连接用户的计算机。
Hybrid端口和Trunk 端口的不同之处在于：Hybrid 端口可以允许多个VLAN 的报文发送时不打标签，而Trunk 端口只允许缺省VLAN 的报文发送时不打标签。&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        
    </channel>
</rss>
